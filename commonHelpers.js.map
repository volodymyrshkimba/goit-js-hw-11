{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createMarkup = arr => {\n\treturn arr.map(imgObj => {\n\tconst { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = imgObj;\n\treturn `<li class=\"item\">\n\t\t\t\t\t<a class=\"item-link\" href=\"${largeImageURL}\"><img class=\"item-img\" src=\"${webformatURL}\" alt=\"\" title=\"${tags}\" /></a>\n\t\t\t\t\t<ul class=\"item-desc\">\n\t\t\t\t\t\t\t<li>Likes\n\t\t\t\t\t\t\t\t<p>${likes}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>Views\n\t\t\t\t\t\t\t\t<p>${views}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>Comments\n\t\t\t\t\t\t\t\t<p>${comments}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>Downloads\n\t\t\t\t\t\t\t\t<p>${downloads}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>`\n}).join('');\n}","export const fetchByUserKey = userKey => {\n\tconst searchParams = new URLSearchParams({\n\t\tkey: '45426984-94cd792edc1ba8c0f2dda7afb',\n\t\tq: `${userKey.trim()}`,\n\t\timage_type: 'photo',\n\t\torientation: 'horizontal',\n\t\tsafesearch: true,\n\t})\n\n\treturn fetch(`https://pixabay.com/api/?${searchParams}`);\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { createMarkup } from './js/render-functions';\nimport { fetchByUserKey } from './js/pixabay-api';\n\nconst formEL = document.querySelector('.search-form');\nconst galleryEL = document.querySelector('.gallery');\nconst galleryModal = new SimpleLightbox('.gallery a');\n\nconst onFormElSubmit = event => {\n\tevent.preventDefault();\n\tconst userKeyword = event.target.elements.user_keyword.value;\n\tif (userKeyword.trim() === '') {\n\t\treturn;\n\t}\n   \n\tconst loaderEl = document.createElement('p');\n\tloaderEl.classList.add('loader');\n\tformEL.after(loaderEl);\n\t\n\tfetchByUserKey(userKeyword)\n\t\t.then(response => {\n\t\t\tgalleryEL.innerHTML = '';\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(response.status);\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.hits.length === 0) {\n\t\t\t\tiziToast.error({\n\t\t\t\t\tmessage: 'Sorry, there are no images matching your search query. Please try again!',\n\t\t\t\t\tposition: 'topRight',\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgalleryEL.innerHTML = createMarkup(data.hits);\n\t\t\tgalleryModal.refresh();\n\t\t})\n\t\t.catch(err => console.log(err))\n\t\t.finally(() => {\n\t\t\tloaderEl.remove();\n\t\t});\n\tformEL.reset();\n}\n\nformEL.addEventListener('submit', onFormElSubmit)\n"],"names":["createMarkup","arr","imgObj","webformatURL","largeImageURL","tags","likes","views","comments","downloads","fetchByUserKey","userKey","searchParams","formEL","galleryEL","galleryModal","SimpleLightbox","onFormElSubmit","event","userKeyword","loaderEl","response","data","iziToast","err"],"mappings":"6vBAAO,MAAMA,EAAeC,GACpBA,EAAI,IAAIC,GAAU,CACzB,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA,kCAC0BE,CAAa,gCAAgCD,CAAY,mBAAmBE,CAAI;AAAA;AAAA;AAAA,aAGrGC,CAAK;AAAA;AAAA;AAAA,aAGLC,CAAK;AAAA;AAAA;AAAA,aAGLC,CAAQ;AAAA;AAAA;AAAA,aAGRC,CAAS;AAAA;AAAA;AAAA,UAItB,CAAC,EAAE,KAAK,EAAE,ECpBGC,EAAiBC,GAAW,CACxC,MAAMC,EAAe,IAAI,gBAAgB,CACxC,IAAK,qCACL,EAAG,GAAGD,EAAQ,KAAM,CAAA,GACpB,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAE,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,CACxD,ECHMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAe,IAAIC,EAAe,YAAY,EAE9CC,EAAiBC,GAAS,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,aAAa,MACvD,GAAIC,EAAY,KAAM,IAAK,GAC1B,OAGD,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,UAAU,IAAI,QAAQ,EAC/BP,EAAO,MAAMO,CAAQ,EAErBV,EAAeS,CAAW,EACxB,KAAKE,GAAY,CAEjB,GADAP,EAAU,UAAY,GAClB,CAACO,EAAS,GACb,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEhC,OAAOA,EAAS,MACnB,CAAG,EACA,KAAKC,GAAQ,CACb,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC3BC,EAAS,MAAM,CACd,QAAS,2EACT,SAAU,UACf,CAAK,EACD,MACA,CACDT,EAAU,UAAYd,EAAasB,EAAK,IAAI,EAC5CP,EAAa,QAAO,CACvB,CAAG,EACA,MAAMS,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAM,CACdJ,EAAS,OAAM,CAClB,CAAG,EACFP,EAAO,MAAK,CACb,EAEAA,EAAO,iBAAiB,SAAUI,CAAc"}